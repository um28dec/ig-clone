{"version":3,"sources":["components/Navbar.js","components/screens/Home.js","components/screens/SignIn.js","components/screens/Profile.js","components/screens/Signup.js","components/screens/CreatePost.js","components/screens/UserProfile.js","components/screens/SubscribesUserPosts.js","reducers/userReducer.js","App.js","reportWebVitals.js","index.js"],"names":["NavBar","useContext","UserContext","state","dispatch","history","useHistory","className","to","id","onClick","localStorage","clear","type","push","Home","useState","data","setData","useEffect","fetch","headers","getItem","then","res","json","result","posts","map","item","style","padding","postedBy","_id","name","float","postId","method","Authorization","console","log","newData","filter","src","photo","color","likes","includes","body","JSON","stringify","catch","err","length","title","comments","record","fontWeight","text","onSubmit","e","preventDefault","target","value","placeholder","SignIn","password","setPassword","email","setEmail","onChange","test","error","M","toast","html","classes","setItem","token","user","payload","Profile","mypics","setPics","image","setImage","mypost","FormData","append","pic","url","maxWidth","margin","borderBottom","display","justifyContent","width","height","borderRadius","followers","following","file","files","alt","Signup","setName","undefined","setUrl","uploadFields","message","PostData","uploadPic","CreatePost","setTitle","setBody","textAlign","postDetails","userProfile","setProfile","userid","useParams","showfollow","setShowFollow","followId","prevState","unfollowid","newFollower","reducer","action","createContext","Routing","parse","exact","path","UserProfile","SubscribesUserPosts","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2NAkDeA,EA9CA,WAAM,IAAD,EACOC,qBAAWC,GAA7BC,EADW,EACXA,MAAMC,EADK,EACLA,SACPC,EAAQC,cA8Bf,OACC,8BACE,sBAAKC,UAAU,oBAAf,UACE,cAAC,IAAD,CAAMC,GAAIL,EAAM,IAAI,UAAWI,UAAU,kBAAzC,uBACA,oBAAIE,GAAG,aAAaF,UAAU,6BAA9B,SAhCCJ,EACM,CACN,6BAAI,cAAC,IAAD,CAAMK,GAAG,WAAT,uBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,UAAT,2BACH,6BAAI,cAAC,IAAD,CAAMA,GAAG,mBAAT,+BAEL,6BACE,wBAAQD,UAAU,2BACjBG,QAAS,WAAKC,aAAaC,QAC3BR,EAAS,CAACS,KAAK,UACfR,EAAQS,KAAK,YAHd,uBAcI,CACL,6BAAI,cAAC,IAAD,CAAMN,GAAG,UAAT,sBACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,UAAT,+BCiJGO,G,MA5KF,WAAM,IAAD,EACOC,mBAAS,IADhB,mBACTC,EADS,KACJC,EADI,OAESjB,qBAAWC,GAA7BC,EAFS,EAETA,MAFS,EAEHC,SACbe,qBAAU,WACPC,MAAM,YAAY,CACjBC,QAAQ,CACN,cAAgB,UAAUV,aAAaW,QAAQ,UAE/CC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACLR,EAAQQ,EAAOC,YAEhB,IAiGJ,OACI,qBAAKpB,UAAU,OAAf,SAEGU,EAAKW,KAAI,SAAAC,GACT,OACC,sBAAKtB,UAAU,iBAAf,UACE,qBAAIuB,MAAO,CAACC,QAAQ,OAApB,UAA4B,cAAC,IAAD,CAAMvB,GAAIqB,EAAKG,SAASC,MAAQ9B,EAAM8B,IAAM,YAAYJ,EAAKG,SAASC,IAAI,WAA1E,SAAuFJ,EAAKG,SAASE,OAC3HL,EAAKG,SAASC,KAAO9B,EAAM8B,KAC7B,mBAAG1B,UAAU,iBACbuB,MAAO,CACNK,MAAM,SAEPzB,QAAS,WA3BH,IAAC0B,IA2BkBP,EAAKI,IA1BzCb,MAAM,eAAD,OAAgBgB,GAAS,CAC5BC,OAAQ,SACRhB,QAAQ,CACNiB,cAAe,UAAU3B,aAAaW,QAAQ,UAE/CC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACJa,QAAQC,IAAId,GACZ,IAAMe,EAAUxB,EAAKyB,QAAO,SAAAb,GAC1B,OAAOA,EAAKI,MAAOP,EAAOO,OAE5Bf,EAAQuB,OAWC,uBASJ,qBAAKlC,UAAU,aAAf,SACC,qBAAKoC,IAAKd,EAAKe,UAEhB,sBAAKrC,UAAU,eAAf,UACC,mBAAGA,UAAU,iBAAiBuB,MAAO,CAACe,MAAM,OAA5C,sBACChB,EAAKiB,MAAMC,SAAS5C,EAAM8B,KAE3B,mBAAG1B,UAAU,iBACbG,QAAS,kBA7FGD,EA6FYoB,EAAKI,SA5FrCb,MAAM,UAAU,CACdiB,OAAQ,MACRhB,QAAQ,CACN,eAAgB,mBAChB,cAAgB,UAAUV,aAAaW,QAAQ,QAEjD0B,KAAKC,KAAKC,UAAU,CAClBd,OAAO3B,MAERc,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GAEJ,IAAMe,EAAUxB,EAAKW,KAAI,SAAAC,GACvB,OAAGA,EAAKI,KAAKP,EAAOO,IACXP,EAGAG,KAGXX,EAAQuB,MACPU,OAAM,SAAAC,GACPb,QAAQC,IAAIY,MAvBK,IAAC3C,GA4FZ,wBAIA,mBAAGF,UAAU,iBACbG,QAAS,kBA5HDD,EA4HcoB,EAAKI,SA3HnCb,MAAM,QAAQ,CACZiB,OAAQ,MACRhB,QAAQ,CACN,eAAgB,mBAChB,cAAgB,UAAUV,aAAaW,QAAQ,QAEjD0B,KAAKC,KAAKC,UAAU,CAClBd,OAAO3B,MAERc,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GAEJ,IAAMe,EAAUxB,EAAKW,KAAI,SAAAC,GACvB,OAAGA,EAAKI,KAAKP,EAAOO,IACXP,EAGAG,KAGXX,EAAQuB,MACPU,OAAM,SAAAC,GACPb,QAAQC,IAAIY,MAvBC,IAAC3C,GA2HR,sBAMA,+BAAKoB,EAAKiB,MAAMO,OAAhB,YACA,6BAAKxB,EAAKyB,QACV,4BAAIzB,EAAKmB,OAEPnB,EAAK0B,SAAS3B,KAAI,SAAA4B,GAChB,OACE,+BAAqB,sBAAM1B,MAAO,CAAC2B,WAAW,OAAzB,SAAkCD,EAAOxB,SAASE,OAAvE,IAAqFsB,EAAOE,OAAnFF,EAAOvB,QAKtB,sBAAM0B,SAAU,SAACC,GAvFP,IAACF,EAAKtB,EAwFdwB,EAAEC,iBAxFOH,EAyFGE,EAAEE,OAAO,GAAGC,MAzFV3B,EAyFgBP,EAAKI,IAxF7Cb,MAAM,WAAW,CACfiB,OAAO,MACPhB,QAAQ,CACN,eAAe,mBACf,cAAgB,UAAUV,aAAaW,QAAQ,QAEjD0B,KAAKC,KAAKC,UAAU,CAClBd,SACAsB,WAEDnC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACD,IAAMe,EAAUxB,EAAKW,KAAI,SAAAC,GACzB,OAAGA,EAAKI,KAAKP,EAAOO,IACXP,EAGDG,KAGRX,EAAQuB,MACRU,OAAM,SAAAC,GACPb,QAAQC,IAAIY,OAgER,SAIA,uBAAOvC,KAAK,OAAOmD,YAAY,yBA5CGnC,EAAKI,Y,iBC9CpCgC,EAnEA,WAAM,IAAD,EACOhE,qBAAWC,GAAvBE,GADK,EACXD,MADW,EACLC,UACPC,EAAUC,cAFE,EAGaU,mBAAS,IAHtB,mBAGXkD,EAHW,KAGFC,EAHE,OAIOnD,mBAAS,IAJhB,mBAIXoD,EAJW,KAILC,EAJK,KAuCnB,OACK,qBAAK9D,UAAU,SAAf,SACE,sBAAKA,UAAU,6BAAf,UACE,2CACA,uBACCM,KAAK,OACLmD,YAAY,QACZD,MAAOK,EACPE,SAAU,SAACV,GAAD,OAAKS,EAAST,EAAEE,OAAOC,UAElC,uBACClD,KAAK,WACLmD,YAAY,WACZD,MAAOG,EACPI,SAAU,SAACV,GAAD,OAAKO,EAAYP,EAAEE,OAAOC,UAErC,wBAAQxD,UAAU,yCAClBG,QAAS,WAhDX,yJAAyJ6D,KAAKH,GAIjKhD,MAAM,UAAU,CACfiB,OAAQ,OACRhB,QAAS,CACP,eAAgB,oBAElB2B,KAAMC,KAAKC,UAAU,CACnBgB,WACAE,YAEA7C,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAN,GACLsB,QAAQC,IAAIvB,GACTA,EAAKuD,MACNC,IAAEC,MAAM,CAACC,KAAM1D,EAAKuD,MAAOI,QAAQ,0BAGrCjE,aAAakE,QAAQ,MAAM5D,EAAK6D,OAChCnE,aAAakE,QAAQ,OAAO5B,KAAKC,UAAUjC,EAAK8D,OAChD3E,EAAS,CAACS,KAAK,OAAOmE,QAAQ/D,EAAK8D,OAEnCN,IAAEC,MAAM,CAACC,KAAK,aAAcC,QAAQ,2BACpCvE,EAAQS,KAAK,SAEXqC,OAAM,SAAAC,GACRb,QAAQC,IAAIY,MA3BXqB,IAAEC,MAAM,CAACC,KAAM,gBAAiBC,QAAQ,0BA8CrC,mBAIA,6BACE,cAAC,IAAD,CAAMpE,GAAG,UAAT,4C,OCiDGyE,EA/GE,WAAK,IAAD,EACQjE,mBAAS,IADjB,mBACVkE,EADU,KACHC,EADG,OAEQlF,qBAAWC,GAA7BC,EAFU,EAEVA,MAAMC,EAFI,EAEJA,SAFI,EAGQY,mBAAS,IAHjB,mBAGVoE,EAHU,KAGJC,EAHI,KAIjBlE,qBAAU,WACPC,MAAM,UAAU,CACZC,QAAQ,CACJ,cAAgB,UAAUV,aAAaW,QAAQ,UAEpDC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACFa,QAAQC,IAAId,GACZyD,EAAQzD,EAAO4D,aAEpB,IACFnE,qBAAU,WACP,GAAGiE,EAAM,CACR,IAAMnE,EAAO,IAAIsE,SACjBtE,EAAKuE,OAAO,OAAOJ,GACnBnE,EAAKuE,OAAO,gBAAgB,eAC5BvE,EAAKuE,OAAO,aAAa,aACzBpE,MAAM,yDAAyD,CAC3DiB,OAAO,OACPW,KAAK/B,IAERM,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAN,GAGHG,MAAM,aAAa,CACfiB,OAAO,MACPhB,QAAQ,CACJ,eAAe,mBACf,cAAgB,UAAUV,aAAaW,QAAQ,QAEnD0B,KAAKC,KAAKC,UAAU,CAChBuC,IAAIxE,EAAKyE,QAEdnE,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACFf,aAAakE,QAAQ,OAAO5B,KAAKC,UAAL,2BAAmB/C,GAAnB,IAAyBsF,IAAI/D,EAAO+D,QAChErF,EAAS,CAACS,KAAK,YAAYmE,QAAQtD,EAAO+D,YAKhDtC,OAAM,SAAAC,GACHb,QAAQC,IAAIY,SAGlB,CAACgC,IAIJ,OACI,sBAAKtD,MAAO,CAAC6D,SAAS,QAAQC,OAAO,YAArC,UACI,sBAAK9D,MAAO,CACT8D,OAAO,WACNC,aAAa,kBAFjB,UAMA,sBAAK/D,MAAO,CACRgE,QAAQ,OACRC,eAAe,gBAFnB,UAKI,8BACI,qBAAKjE,MAAO,CAACkE,MAAM,QAAQC,OAAO,QAAQC,aAAa,QACvDvD,IAAKxC,EAAMA,EAAMsF,IAAI,cAIzB,gCACI,6BAAKtF,EAAMA,EAAM+B,KAAK,YACtB,6BAAK/B,EAAMA,EAAMiE,MAAM,YACvB,sBAAKtC,MAAO,CAACgE,QAAQ,OAAOC,eAAe,gBAAgBC,MAAM,QAAjE,UACI,+BAAKd,EAAO7B,OAAZ,YACA,+BAAKlD,EAAMA,EAAMgG,UAAU9C,OAAO,IAAlC,gBACA,+BAAKlD,EAAMA,EAAMiG,UAAU/C,OAAO,IAAlC,yBAMX,sBAAK9C,UAAU,yBAAyBuB,MAAO,CAAC8D,OAAO,QAAvD,UACA,sBAAKrF,UAAU,4BAAf,UACI,8CACA,uBAAOM,KAAK,OAAOyD,SAAU,SAACV,GAAD,OArCpByC,EAqCqCzC,EAAEE,OAAOwC,MAAM,QApCrEjB,EAASgB,GADO,IAACA,QAuCb,qBAAK9F,UAAU,oBAAf,SACI,uBAAOA,UAAU,qBAAqBM,KAAK,iBAIhD,qBAAKN,UAAU,UAAf,SAEQ2E,EAAOtD,KAAI,SAAAC,GACP,OACC,qBAAoBtB,UAAU,OAAOoC,IAAKd,EAAKe,MAAO2D,IAAK1E,EAAKyB,OAAtDzB,EAAKI,cCkBxBuE,EApHA,WACb,IAAMnG,EAAUC,cADE,EAEKU,mBAAS,IAFd,mBAEXkB,EAFW,KAENuE,EAFM,OAGazF,mBAAS,IAHtB,mBAGXkD,EAHW,KAGFC,EAHE,OAIOnD,mBAAS,IAJhB,mBAIXoD,EAJW,KAILC,EAJK,OAKOrD,mBAAS,IALhB,mBAKXoE,EALW,KAKLC,EALK,OAMGrE,wBAAS0F,GANZ,mBAMXhB,EANW,KAMPiB,EANO,KAOlBxF,qBAAU,WACNuE,GACFkB,MAEA,CAAClB,IAGH,IAkBMkB,EAAe,WACb,yJAAyJrC,KAAKH,GAInKhD,MAAM,UAAU,CACfiB,OAAQ,OACRhB,QAAS,CACP,eAAgB,oBAElB2B,KAAMC,KAAKC,UAAU,CACnBhB,OACAgC,WACAE,QACAqB,IAAIC,MAEJnE,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAN,GACFA,EAAKuD,MACNC,IAAEC,MAAM,CAACC,KAAM1D,EAAKuD,MAAOI,QAAQ,0BAGrCH,IAAEC,MAAM,CAACC,KAAK1D,EAAK4F,QAASjC,QAAQ,2BACpCvE,EAAQS,KAAK,eAEXqC,OAAM,SAAAC,GACRb,QAAQC,IAAIY,MAxBXqB,IAAEC,MAAM,CAACC,KAAM,gBAAiBC,QAAQ,0BA4BvCkC,EAAW,WACZ1B,EAjDa,WACf,IAAMnE,EAAO,IAAIsE,SACjBtE,EAAKuE,OAAO,OAAOJ,GACnBnE,EAAKuE,OAAO,gBAAgB,eAC5BvE,EAAKuE,OAAO,aAAa,aACzBpE,MAAM,yDAAyD,CAC9DiB,OAAQ,OACRW,KAAM/B,IAEPM,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAN,GACJ0F,EAAO1F,EAAKyE,QAEbvC,OAAM,SAAAC,GACLb,QAAQC,IAAIY,MAoCZ2D,GAGAH,KAIL,OACK,qBAAKrG,UAAU,SAAf,SACE,sBAAKA,UAAU,6BAAf,UACE,2CACA,uBACCM,KAAK,OACLmD,YAAY,OACZD,MAAO7B,EACPoC,SAAU,SAACV,GAAD,OAAK6C,EAAQ7C,EAAEE,OAAOC,UAEjC,uBACClD,KAAK,OACLmD,YAAY,QACZD,MAAOK,EACPE,SAAU,SAACV,GAAD,OAAKS,EAAST,EAAEE,OAAOC,UAElC,uBACClD,KAAK,WACLmD,YAAY,WACZD,MAAOG,EACPI,SAAU,SAACV,GAAD,OAAKO,EAAYP,EAAEE,OAAOC,UAErC,sBAAKxD,UAAU,yBAAf,UACA,sBAAKA,UAAU,4BAAf,UACC,sDACA,uBAAOM,KAAK,OACXyD,SAAU,SAACV,GAAD,OAAKyB,EAASzB,EAAEE,OAAOwC,MAAM,UAG1C,qBAAK/F,UAAU,oBAAf,SACE,uBAAOA,UAAU,qBAAqBM,KAAK,cAG5C,wBAAQN,UAAU,yCAClBG,QAAS,kBAAIoG,KADb,oBAIA,6BACE,cAAC,IAAD,CAAMtG,GAAG,UAAT,8CClBGwG,EA1FI,WACjB,IAAM3G,EAAUC,cADO,EAEEU,mBAAS,IAFX,mBAEhBsC,EAFgB,KAEV2D,EAFU,OAGAjG,mBAAS,IAHT,mBAGhBgC,EAHgB,KAGXkE,EAHW,OAIElG,mBAAS,IAJX,mBAIhBoE,EAJgB,KAIVC,EAJU,OAKFrE,mBAAS,IALP,mBAKhB0E,EALgB,KAKZiB,EALY,KAMvBxF,qBAAU,WACLuE,GACHtE,MAAM,cAAc,CAClBiB,OAAQ,OACRhB,QAAS,CACP,eAAgB,mBAChB,cAAiB,UAAUV,aAAaW,QAAQ,QAElD0B,KAAMC,KAAKC,UAAU,CACnBI,QACAN,OACAyC,IAAIC,MAEJnE,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAN,GACFA,EAAKuD,MACNC,IAAEC,MAAM,CAACC,KAAM1D,EAAKuD,MAAOI,QAAQ,0BAGrCH,IAAEC,MAAM,CAACC,KAAK,6BAA8BC,QAAQ,2BACpDvE,EAAQS,KAAK,SAEXqC,OAAM,SAAAC,GACRb,QAAQC,IAAIY,QAGd,CAACsC,IAoBH,OACG,sBAAKnF,UAAU,mBACfuB,MAAO,CACN8D,OAAQ,YACRD,SAAU,QACV5D,QAAS,OACToF,UAAW,UALZ,UAOE,uBAAOtG,KAAK,OAAOmD,YAAY,QAC9BD,MAAOT,EACPgB,SAAU,SAACV,GAAD,OAAKqD,EAASrD,EAAEE,OAAOC,UAElC,uBAAOlD,KAAK,OAAOmD,YAAY,OAC9BD,MAAOf,EACPsB,SAAU,SAACV,GAAD,OAAKsD,EAAQtD,EAAEE,OAAOC,UAEjC,sBAAKxD,UAAU,yBAAf,UACE,sBAAKA,UAAU,4BAAf,UACE,gDACA,uBAAOM,KAAK,OACXyD,SAAU,SAACV,GAAD,OAAKyB,EAASzB,EAAEE,OAAOwC,MAAM,UAG1C,qBAAK/F,UAAU,oBAAf,SACE,uBAAOA,UAAU,qBAAqBM,KAAK,cAG/C,wBAAQN,UAAU,yCAClBG,QAAS,kBA9CM,WAClB,IAAMO,EAAO,IAAIsE,SACjBtE,EAAKuE,OAAO,OAAOJ,GACnBnE,EAAKuE,OAAO,gBAAgB,eAC5BvE,EAAKuE,OAAO,aAAa,aACzBpE,MAAM,yDAAyD,CAC7DiB,OAAQ,OACRW,KAAM/B,IAEPM,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UACdF,MAAK,SAAAN,GACJ0F,EAAO1F,EAAKyE,QAEbvC,OAAM,SAAAC,GACLb,QAAQC,IAAIY,MAgCEgE,IADb,6B,QCuDQnC,EAvIC,WAAM,IAAD,EACejE,mBAAS,MADxB,mBACZqG,EADY,KACCC,EADD,OAEMrH,qBAAWC,GAA7BC,EAFY,EAEZA,MAAMC,EAFM,EAENA,SACNmH,EAAUC,cAAVD,OAHY,EAIiBvG,oBAASb,IAAOA,EAAMiG,UAAUrD,SAASwE,IAJ1D,mBAIZE,EAJY,KAIAC,EAJA,KAMnBvG,qBAAU,WACTC,MAAM,SAAD,OAAUmG,GAAS,CACvBlG,QAAS,CACP,cAAiB,UAAUV,aAAaW,QAAQ,UAEhDC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACH4F,EAAW5F,QAEb,IAgEH,OACK,mCACC2F,EACD,sBAAKvF,MAAO,CAAC6D,SAAS,QAASC,OAAO,YAAtC,UACE,sBAAK9D,MAAO,CACVgE,QAAS,OACTC,eAAgB,eAChBH,OAAQ,WACRC,aAAc,kBAJhB,UAME,8BACC,qBAAK/D,MAAO,CAACkE,MAAM,QAAQC,OAAO,QAAQC,aAAa,QACtDvD,IAAK0E,EAAYtC,KAAKU,QAGvB,gCACC,6BAAK4B,EAAYtC,KAAK7C,OACtB,6BAAKmF,EAAYtC,KAAKX,QACtB,sBAAKtC,MAAO,CAACgE,QAAQ,OAAQC,eAAgB,gBAAgBC,MAAO,QAApE,UACC,+BAAKqB,EAAY1F,MAAM0B,OAAvB,YACA,+BAAKgE,EAAYtC,KAAKoB,UAAU9C,OAAhC,gBACA,+BAAKgE,EAAYtC,KAAKqB,UAAU/C,OAAhC,mBAEAoE,EACD,wBAAQ3F,MAAO,CAAC8D,OAAO,QAASrF,UAAU,yCACzCG,QAAS,WAtFfU,MAAM,UAAU,CACfiB,OAAQ,MACRhB,QAAQ,CACN,eAAgB,mBACf,cAAiB,UAAUV,aAAaW,QAAQ,QAEnD0B,KAAKC,KAAKC,UAAU,CAClByE,SAASJ,MAEThG,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAN,GACHb,EAAS,CAACS,KAAK,SAASmE,QAAQ,CAC9BoB,UAAUnF,EAAKmF,UACfD,UAAUlF,EAAKkF,aAEjBxF,aAAakE,QAAQ,OAAO5B,KAAKC,UAAUjC,IAC3CqG,GAAW,SAACM,GACV,OAAO,2BACFA,GADL,IAEE7C,KAAK,2BACA6C,EAAU7C,MADX,IAEFoB,UAAU,GAAD,mBAAKyB,EAAU7C,KAAKoB,WAApB,CAA8BlF,EAAKgB,aAIlDyF,GAAc,OA4DZ,oBAKE,wBAAQ5F,MAAO,CAAC8D,OAAO,QAASrF,UAAU,yCAC1CG,QAAS,WA7DhBU,MAAM,YAAY,CACjBiB,OAAQ,MACRhB,QAAQ,CACN,eAAgB,mBACf,cAAiB,UAAUV,aAAaW,QAAQ,QAEnD0B,KAAKC,KAAKC,UAAU,CAClB2E,WAAWN,MAEXhG,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAN,GACHb,EAAS,CAACS,KAAK,SAASmE,QAAQ,CAC9BoB,UAAUnF,EAAKmF,UACfD,UAAUlF,EAAKkF,aAEjBxF,aAAakE,QAAQ,OAAO5B,KAAKC,UAAUjC,IAC3CqG,GAAW,SAACM,GACV,IAAME,EAAcF,EAAU7C,KAAKoB,UAAUzD,QAAO,SAAAb,GAAI,OAAEA,GAAMZ,EAAKgB,OAErE,OAAO,2BACF2F,GADL,IAEE7C,KAAK,2BACA6C,EAAU7C,MADX,IAEFoB,UAAU2B,SAIhBJ,GAAc,OAiCV,4BASN,qBAAKnH,UAAU,UAAf,SAEI8G,EAAY1F,MAAMC,KAAI,SAAAC,GACf,OACC,qBAAoBtB,UAAU,OAAOoC,IAAKd,EAAKe,MAAO2D,IAAK1E,EAAKyB,OAAtDzB,EAAKI,aAQ5B,4CC2CQlB,EA5KF,WAAM,IAAD,EACOC,mBAAS,IADhB,mBACTC,EADS,KACJC,EADI,OAESjB,qBAAWC,GAA7BC,EAFS,EAETA,MAFS,EAEHC,SACbe,qBAAU,WACPC,MAAM,cAAc,CACnBC,QAAQ,CACN,cAAgB,UAAUV,aAAaW,QAAQ,UAE/CC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACLR,EAAQQ,EAAOC,YAEhB,IAiGJ,OACI,qBAAKpB,UAAU,OAAf,SAEGU,EAAKW,KAAI,SAAAC,GACT,OACC,sBAAKtB,UAAU,iBAAf,UACE,qBAAIuB,MAAO,CAACC,QAAQ,OAApB,UAA4B,cAAC,IAAD,CAAMvB,GAAIqB,EAAKG,SAASC,MAAQ9B,EAAM8B,IAAM,YAAYJ,EAAKG,SAASC,IAAI,WAA1E,SAAuFJ,EAAKG,SAASE,OAC3HL,EAAKG,SAASC,KAAO9B,EAAM8B,KAC7B,mBAAG1B,UAAU,iBACbuB,MAAO,CACNK,MAAM,SAEPzB,QAAS,WA3BH,IAAC0B,IA2BkBP,EAAKI,IA1BzCb,MAAM,eAAD,OAAgBgB,GAAS,CAC5BC,OAAQ,SACRhB,QAAQ,CACNiB,cAAe,UAAU3B,aAAaW,QAAQ,UAE/CC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACJa,QAAQC,IAAId,GACZ,IAAMe,EAAUxB,EAAKyB,QAAO,SAAAb,GAC1B,OAAOA,EAAKI,MAAOP,EAAOO,OAE5Bf,EAAQuB,OAWC,uBASJ,qBAAKlC,UAAU,aAAf,SACC,qBAAKoC,IAAKd,EAAKe,UAEhB,sBAAKrC,UAAU,eAAf,UACC,mBAAGA,UAAU,iBAAiBuB,MAAO,CAACe,MAAM,OAA5C,sBACChB,EAAKiB,MAAMC,SAAS5C,EAAM8B,KAE3B,mBAAG1B,UAAU,iBACbG,QAAS,kBA7FGD,EA6FYoB,EAAKI,SA5FrCb,MAAM,UAAU,CACdiB,OAAQ,MACRhB,QAAQ,CACN,eAAgB,mBAChB,cAAgB,UAAUV,aAAaW,QAAQ,QAEjD0B,KAAKC,KAAKC,UAAU,CAClBd,OAAO3B,MAERc,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GAEJ,IAAMe,EAAUxB,EAAKW,KAAI,SAAAC,GACvB,OAAGA,EAAKI,KAAKP,EAAOO,IACXP,EAGAG,KAGXX,EAAQuB,MACPU,OAAM,SAAAC,GACPb,QAAQC,IAAIY,MAvBK,IAAC3C,GA4FZ,wBAIA,mBAAGF,UAAU,iBACbG,QAAS,kBA5HDD,EA4HcoB,EAAKI,SA3HnCb,MAAM,QAAQ,CACZiB,OAAQ,MACRhB,QAAQ,CACN,eAAgB,mBAChB,cAAgB,UAAUV,aAAaW,QAAQ,QAEjD0B,KAAKC,KAAKC,UAAU,CAClBd,OAAO3B,MAERc,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GAEJ,IAAMe,EAAUxB,EAAKW,KAAI,SAAAC,GACvB,OAAGA,EAAKI,KAAKP,EAAOO,IACXP,EAGAG,KAGXX,EAAQuB,MACPU,OAAM,SAAAC,GACPb,QAAQC,IAAIY,MAvBC,IAAC3C,GA2HR,sBAMA,+BAAKoB,EAAKiB,MAAMO,OAAhB,YACA,6BAAKxB,EAAKyB,QACV,4BAAIzB,EAAKmB,OAEPnB,EAAK0B,SAAS3B,KAAI,SAAA4B,GAChB,OACE,+BAAqB,sBAAM1B,MAAO,CAAC2B,WAAW,OAAzB,SAAkCD,EAAOxB,SAASE,OAAvE,IAAqFsB,EAAOE,OAAnFF,EAAOvB,QAKtB,sBAAM0B,SAAU,SAACC,GAvFP,IAACF,EAAKtB,EAwFdwB,EAAEC,iBAxFOH,EAyFGE,EAAEE,OAAO,GAAGC,MAzFV3B,EAyFgBP,EAAKI,IAxF7Cb,MAAM,WAAW,CACfiB,OAAO,MACPhB,QAAQ,CACN,eAAe,mBACf,cAAgB,UAAUV,aAAaW,QAAQ,QAEjD0B,KAAKC,KAAKC,UAAU,CAClBd,SACAsB,WAEDnC,MAAK,SAAAC,GAAG,OAAEA,EAAIC,UAChBF,MAAK,SAAAG,GACD,IAAMe,EAAUxB,EAAKW,KAAI,SAAAC,GACzB,OAAGA,EAAKI,KAAKP,EAAOO,IACXP,EAGDG,KAGRX,EAAQuB,MACRU,OAAM,SAAAC,GACPb,QAAQC,IAAIY,OAgER,SAIA,uBAAOvC,KAAK,OAAOmD,YAAY,yBA5CGnC,EAAKI,WCrHtC8F,EAAU,SAAC5H,EAAM6H,GAC7B,MAAgB,QAAbA,EAAOnH,KACFmH,EAAOhD,QAEC,SAAbgD,EAAOnH,KACF,KAEQ,UAAbmH,EAAOnH,KACF,2BACHV,GADJ,IAECgG,UAAW6B,EAAOhD,QAAQmB,UAC1BC,UAAW4B,EAAOhD,QAAQoB,YAGZ,aAAb4B,EAAOnH,KACF,2BACHV,GADJ,IAECsF,IAAIuC,EAAOhD,UAGN7E,GCPKD,EAAc+H,0BACrBC,EAAU,WACd,IAAM7H,EAAUC,cADI,EAEKL,qBAAWC,GAAvBE,GAFO,EAEbD,MAFa,EAEPC,UAWb,OAVAe,qBAAU,WACP,IAAM4D,EAAK9B,KAAKkF,MAAMxH,aAAaW,QAAQ,SACxCyD,EACF3E,EAAS,CAACS,KAAK,OAAOmE,QAAQD,IAI9B1E,EAAQS,KAAK,aAEf,IAEC,eAAC,IAAD,WACA,cAAC,IAAD,CAAOsH,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACC,cAAC,EAAD,MAED,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACC,cAAC,EAAD,MAED,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,WAAlB,SACC,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACE,cAAC,EAAD,MAEA,cAAC,IAAD,CAAOA,KAAK,mBAAZ,SACC,cAACC,EAAD,MAED,cAAC,IAAD,CAAOD,KAAK,mBAAZ,SACC,cAACE,EAAD,UAqBQC,MAff,WAAgB,IAAD,EACYC,qBAAWV,EDxDZ,MCuDX,mBACN5H,EADM,KACAC,EADA,KAEb,OACE,cAACF,EAAYwI,SAAb,CAAsB3E,MAAO,CAAC5D,QAAMC,YAApC,SACA,eAAC,IAAD,WACC,cAAC,EAAD,IACA,cAAC,EAAD,UCjDUuI,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBtH,MAAK,YAAkD,IAA/CuH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.c032d1d8.chunk.js","sourcesContent":["import React,{useContext} from 'react';\nimport {Link,useHistory} from 'react-router-dom';\nimport {UserContext} from '../App';\n\nconst NavBar = ()=> {\n  const {state,dispatch} = useContext(UserContext);\n  const history=useHistory();\n  const renderList = ()=>{\n    if(state){\n      return [\n       <li><Link to=\"/profile\">Profile</Link></li>,\n       <li><Link to=\"/create\">Create Post</Link></li>,\n        <li><Link to=\"/myfollowingpost\">Following Posts</Link></li>,\n\n       <li>\n         <button className=\"btn #c62828 red darken-3\"\n          onClick={()=>{localStorage.clear()\n          dispatch({type:\"CLEAR\"})\n          history.push('/signin')\n        }\n\n          }>\n              Logout\n          </button>\n       </li>\n\n      ]\n    }\n    else{\n      return [\n        <li><Link to=\"/signin\">Signin</Link></li>,\n        <li><Link to=\"/signup\">Signup</Link></li>\n\n      ]\n    }\n  }\n\treturn(\n  <nav>\n    <div className=\"nav-wrapper white\">\n      <Link to={state?\"/\":\"/signin\"} className=\"brand-logo left\">Instagram</Link>\n      <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n        {renderList()} \n        \n\n      </ul>\n    </div>\n  </nav>\n)\n}\n\nexport default NavBar;","import React,{useState,useEffect,useContext} from 'react'\nimport {UserContext} from '../../App';\nimport {Link} from 'react-router-dom';\n\nconst Home = ()=> {\n  const [data,setData] = useState([]);\n  const {state,dispatch} = useContext(UserContext);\n  useEffect(()=>{\n     fetch('/allposts',{\n      headers:{\n        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n      }\n     }).then(res=>res.json())\n     .then(result=>{\n      setData(result.posts)\n     })\n   },[])\n\n  const likePost = (id)=> {\n    fetch('/like',{\n      method: 'put',\n      headers:{\n        \"Content-Type\": \"application/json\",\n        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n      },\n      body:JSON.stringify({\n        postId:id\n      })\n    }).then(res=>res.json())\n    .then(result=>\n    {\n      const newData = data.map(item=>{\n        if(item._id==result._id){\n          return result\n        }\n        else{\n          return item\n        }\n      })\n      setData(newData)\n    }).catch(err=>{\n      console.log(err)\n    })\n  }\n\n    const unlikePost = (id)=> {\n    fetch('/unlike',{\n      method: 'put',\n      headers:{\n        \"Content-Type\": \"application/json\",\n        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n      },\n      body:JSON.stringify({\n        postId:id\n      })\n    }).then(res=>res.json())\n    .then(result=>\n    {\n      const newData = data.map(item=>{\n        if(item._id==result._id){\n          return result\n        }\n        else{\n          return item\n        }\n      })\n      setData(newData)\n    }).catch(err=>{\n      console.log(err)\n    })\n  }\n  const makeComment = (text,postId) => {\n    fetch('/comment',{\n      method:\"put\",\n      headers:{\n        \"Content-Type\":\"application/json\",\n        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n      },\n      body:JSON.stringify({\n        postId,\n        text\n      })\n    }).then(res=>res.json())\n    .then(result=>{\n         const newData = data.map(item=>{\n         if(item._id==result._id){\n           return result\n         }\n         else{\n          return item\n         }\n        }) \n         setData(newData)\n      }).catch(err=>{\n        console.log(err)\n       })\n  } \n\n  const deletePost = (postId) => {\n    fetch(`/deletepost/${postId}`,{\n      method: \"delete\",\n      headers:{\n        Authorization: \"Bearer \"+localStorage.getItem(\"jwt\")\n      }\n    }).then(res=>res.json())\n    .then(result=>{\n      console.log(result)\n      const newData = data.filter(item=>{\n        return item._id !==result._id\n      })\n      setData(newData)\n    })\n  }\n\treturn(\n     <div className=\"home\">\n       {\n        data.map(item=>{\n        return(\n         <div className=\"card home-card\" key={item._id}>\n           <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id !== state._id ? \"/profile/\"+item.postedBy._id:\"/profile\"}>{item.postedBy.name}</Link>\n               { item.postedBy._id == state._id &&\n               <i className=\"material-icons\" \n               style={{\n                float:\"right\"\n               }}\n               onClick={()=>{deletePost(item._id)}}>\n               delete</i>\n              }\n\n           </h5>\n           <div className=\"card-image\">\n            <img src={item.photo} />\n           </div> \n           <div className=\"card-content\">\n            <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i>\n            {item.likes.includes(state._id)\n              ?\n            <i className=\"material-icons\"\n            onClick={()=>unlikePost(item._id)}\n            >thumb_down</i>\n            :\n            <i className=\"material-icons\"\n            onClick={()=>likePost(item._id)}\n            >thumb_up</i>\n            }\n          \n         \n            <h6>{item.likes.length} likes</h6>\n            <h6>{item.title}</h6>\n            <p>{item.body}</p>\n            {\n              item.comments.map(record=>{\n                return(\n                  <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}</h6>\n                )\n              })\n\n            }\n            <form onSubmit={(e)=>{\n              e.preventDefault()\n              makeComment(e.target[0].value,item._id)\n            }}>\n            <input type=\"text\" placeholder=\"add a comment\"/>\n            </form>\n\n          </div>\n        </div>\n        )\n      })\n    }\n        \n        \n    </div>\n)\n}\n\nexport default Home;","import React,{useState,useContext} from 'react';\nimport {Link,useHistory} from 'react-router-dom';\nimport {UserContext} from '../../App';\nimport M from 'materialize-css';\n\nconst SignIn = ()=> {\n  const {state,dispatch} = useContext(UserContext);\n  const history = useHistory();\n  const [password,setPassword] = useState(\"\");\n  const [email,setEmail] = useState(\"\");\n\n\n  const PostData = () => {\n    if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\n       M.toast({html: 'Invalid Email', classes:\"#c62828 red darken-3\"});\n       return;\n    }\n     fetch(\"/signin\",{\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        password,\n        email\n      })\n     }).then(res=>res.json()) \n     .then(data=>{\n      console.log(data)\n      if(data.error){\n        M.toast({html: data.error, classes:\"#c62828 red darken-3\"})\n     }\n     else {\n      localStorage.setItem(\"jwt\",data.token)\n      localStorage.setItem(\"user\",JSON.stringify(data.user))\n      dispatch({type:\"USER\",payload:data.user})\n\n      M.toast({html:\"Signed in!\", classes:\"#43a047 green darken-1\"})\n      history.push(\"/\");\n     }\n     }).catch(err=>{\n      console.log(err)\n     })\n  }\n\treturn(\n      <div className=\"mycard\">\n        <div className=\"card auth-card input-field\">\n          <h2>Instagram</h2>\n          <input \n           type=\"text\"\n           placeholder=\"email\"\n           value={email}\n           onChange={(e)=>setEmail(e.target.value)}\n          />\n          <input \n           type=\"password\"\n           placeholder=\"password\"\n           value={password}\n           onChange={(e)=>setPassword(e.target.value)}\n          />\n          <button className=\"btn waves-effect #64b5f6 blue darken-1\"\n          onClick={()=>PostData()}>\n              Login\n          </button>\n          <h5>\n            <Link to=\"/signup\">Don't have an account?</Link>\n          </h5> \n        </div>\n      </div>\n)\n}\n\nexport default SignIn;","import React,{useEffect,useState,useContext} from 'react'\nimport {UserContext} from '../../App'\n\nconst Profile  = ()=>{\n    const [mypics,setPics] = useState([])\n    const {state,dispatch} = useContext(UserContext)\n    const [image,setImage] = useState(\"\")\n    useEffect(()=>{\n       fetch('/mypost',{\n           headers:{\n               \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n           }\n       }).then(res=>res.json())\n       .then(result=>{\n           console.log(result)\n           setPics(result.mypost)\n       })\n    },[])\n    useEffect(()=>{\n       if(image){\n        const data = new FormData()\n        data.append(\"file\",image)\n        data.append(\"upload_preset\",\"insta-clone\")\n        data.append(\"cloud_name\",\"dimgxximg\")\n        fetch(\"https://api.cloudinary.com/v1_1/dimgxximg/image/upload\",{\n            method:\"post\",\n            body:data\n        })\n        .then(res=>res.json())\n        .then(data=>{\n    \n       \n           fetch('/updatepic',{\n               method:\"put\",\n               headers:{\n                   \"Content-Type\":\"application/json\",\n                   \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n               },\n               body:JSON.stringify({\n                   pic:data.url\n               })\n           }).then(res=>res.json())\n           .then(result=>{\n               localStorage.setItem(\"user\",JSON.stringify({...state,pic:result.pic}))\n               dispatch({type:\"UPDATEPIC\",payload:result.pic})\n               //window.location.reload()\n           })\n       \n        })\n        .catch(err=>{\n            console.log(err)\n        })\n       }\n    },[image])\n    const updatePhoto = (file)=>{\n        setImage(file)\n    }\n   return (\n       <div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\n           <div style={{\n              margin:\"18px 0px\",\n               borderBottom:\"1px solid grey\"\n           }}>\n\n         \n           <div style={{\n               display:\"flex\",\n               justifyContent:\"space-around\",\n              \n           }}>\n               <div>\n                   <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}}\n                   src={state?state.pic:\"loading\"}\n                   />\n                 \n               </div>\n               <div>\n                   <h4>{state?state.name:\"loading\"}</h4>\n                   <h5>{state?state.email:\"loading\"}</h5>\n                   <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\n                       <h6>{mypics.length} posts</h6>\n                       <h6>{state?state.followers.length:\"0\"} followers</h6>\n                       <h6>{state?state.following.length:\"0\"} following</h6>\n                   </div>\n\n               </div>\n           </div>\n        \n            <div className=\"file-field input-field\" style={{margin:\"10px\"}}>\n            <div className=\"btn #64b5f6 blue darken-1\">\n                <span>Update pic</span>\n                <input type=\"file\" onChange={(e)=>updatePhoto(e.target.files[0])} />\n            </div>\n            <div className=\"file-path-wrapper\">\n                <input className=\"file-path validate\" type=\"text\" />\n            </div>\n            </div>\n            </div>      \n           <div className=\"gallery\">\n               {\n                   mypics.map(item=>{\n                       return(\n                        <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/>  \n                       )\n                   })\n               }\n\n           \n           </div>\n       </div>\n   )\n}\n\n\nexport default Profile","import React,{useState,useEffect} from 'react';\nimport {Link,useHistory} from 'react-router-dom';\nimport M from 'materialize-css';\n\nconst Signup = ()=> {\n  const history = useHistory();\n  const [name,setName] = useState(\"\");\n  const [password,setPassword] = useState(\"\");\n  const [email,setEmail] = useState(\"\");\n  const [image,setImage] = useState(\"\");\n  const [url,setUrl] = useState(undefined);\n  useEffect(()=>{\n   if(url){\n    uploadFields()\n   }\n  },[url])\n\n\n  const uploadPic = () => {\n     const data = new FormData();\n     data.append(\"file\",image);\n     data.append(\"upload_preset\",\"insta-clone\");\n     data.append(\"cloud_name\",\"dimgxximg\")\n     fetch(\"https://api.cloudinary.com/v1_1/dimgxximg/image/upload\",{\n      method: \"post\",\n      body: data\n    })\n    .then(res=>res.json())\n    .then(data=>{\n      setUrl(data.url)\n    })\n    .catch(err=>{\n      console.log(err)\n    })\n  }\n\n  const uploadFields = () =>{\n      if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\n       M.toast({html: 'Invalid Email', classes:\"#c62828 red darken-3\"});\n       return;\n    }\n     fetch(\"/signup\",{\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        name,\n        password,\n        email,\n        pic:url\n      })\n     }).then(res=>res.json()) \n     .then(data=>{\n      if(data.error){\n        M.toast({html: data.error, classes:\"#c62828 red darken-3\"})\n     }\n     else {\n      M.toast({html:data.message, classes:\"#43a047 green darken-1\"})\n      history.push(\"/signin\");\n     }\n     }).catch(err=>{\n      console.log(err)\n     })\n}\n\n  const PostData = () => {\n    if(image){\n      uploadPic()\n    }\n    else{\n      uploadFields()\n    }  \n   }\n\n\treturn(\n      <div className=\"mycard\">\n        <div className=\"card auth-card input-field\">\n          <h2>Instagram</h2>\n          <input \n           type=\"text\"\n           placeholder=\"name\"\n           value={name}\n           onChange={(e)=>setName(e.target.value)}\n          />\n          <input \n           type=\"text\"\n           placeholder=\"email\"\n           value={email}\n           onChange={(e)=>setEmail(e.target.value)}\n          />\n          <input \n           type=\"password\"\n           placeholder=\"password\"\n           value={password}\n           onChange={(e)=>setPassword(e.target.value)}\n          />\n          <div className=\"file-field input-field\">\n          <div className=\"btn #64b5f6 blue darken-1\">\n           <span>Upload Profile Pic</span>\n           <input type=\"file\" \n            onChange={(e)=>setImage(e.target.files[0])}\n           />\n         </div>\n         <div className=\"file-path-wrapper\">\n           <input className=\"file-path validate\" type=\"text\" />\n         </div>\n       </div>  \n          <button className=\"btn waves-effect #64b5f6 blue darken-1\"\n          onClick={()=>PostData()}>\n              SignUp\n          </button>\n          <h5>\n            <Link to=\"/signin\">Already have an account?</Link>\n          </h5>  \n        </div>\n      </div>\n)\n}\n\nexport default Signup;","import React,{useState,useEffect} from 'react';\nimport M from 'materialize-css';\nimport {useHistory} from 'react-router-dom';\n\n\nconst CreatePost = () => {\n  const history = useHistory();\n  const [title,setTitle] = useState(\"\");\n  const [body,setBody] = useState(\"\");\n  const [image,setImage] = useState(\"\");\n  const [url,setUrl] = useState(\"\");\n  useEffect(()=>{\n    if(url){\n    fetch(\"/createpost\",{\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n      },\n      body: JSON.stringify({\n        title,\n        body,\n        pic:url\n      })\n     }).then(res=>res.json()) \n     .then(data=>{\n      if(data.error){\n        M.toast({html: data.error, classes:\"#c62828 red darken-3\"})\n     }\n     else {\n      M.toast({html:\"Created post successfully!\", classes:\"#43a047 green darken-1\"})\n      history.push(\"/\");\n     }\n     }).catch(err=>{\n      console.log(err)\n     })\n    } \n  },[url])\n\n  const postDetails = () => {\n    const data = new FormData();\n    data.append(\"file\",image);\n    data.append(\"upload_preset\",\"insta-clone\");\n    data.append(\"cloud_name\",\"dimgxximg\")\n    fetch(\"https://api.cloudinary.com/v1_1/dimgxximg/image/upload\",{\n      method: \"post\",\n      body: data\n    })\n    .then(res=>res.json())\n    .then(data=>{\n      setUrl(data.url)\n    })\n    .catch(err=>{\n      console.log(err)\n    })\n  }\n\n  return(\n     <div className=\"card input-field\"\n     style={{\n     \tmargin: \"30px auto\",\n     \tmaxWidth: \"500px\",\n     \tpadding: \"20px\",\n     \ttextAlign: \"center\"\n     }}>\n       <input type=\"text\" placeholder=\"title\"\n        value={title}\n        onChange={(e)=>setTitle(e.target.value)}\n       />\n       <input type=\"text\" placeholder=\"body\"\n        value={body}\n        onChange={(e)=>setBody(e.target.value)}\n       />\n       <div className=\"file-field input-field\">\n         <div className=\"btn #64b5f6 blue darken-1\">\n           <span>Upload Image</span>\n           <input type=\"file\" \n            onChange={(e)=>setImage(e.target.files[0])}\n           />\n         </div>\n         <div className=\"file-path-wrapper\">\n           <input className=\"file-path validate\" type=\"text\" />\n         </div>\n       </div>  \n       <button className=\"btn waves-effect #64b5f6 blue darken-1\"\n       onClick={()=>postDetails()}\n       >\n              Submit Post\n        </button>\n     </div>\n\n\n )\n};\n\nexport default CreatePost;","import React,{useEffect,useState,useContext} from 'react';\nimport {UserContext} from '../../App';\nimport {useParams} from 'react-router-dom';\n\nconst Profile = ()=> {\n  const [userProfile, setProfile] = useState(null);\n  const {state,dispatch} = useContext(UserContext);\n  const {userid} = useParams();\n  const [showfollow, setShowFollow] = useState(state?!state.following.includes(userid):true);\n\n  useEffect(()=>{\n   fetch(`/user/${userid}`,{\n    headers: {\n      \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n    }\n   }).then(res=>res.json())\n   .then(result=>{\n      setProfile(result)\n   })\n  },[])\n  \n  const followUser = ()=>{\n       fetch('/follow',{\n        method: \"put\",\n        headers:{\n          \"Content-Type\": \"application/json\",\n           \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n        },\n        body:JSON.stringify({\n          followId:userid\n        })\n       }).then(res=>res.json())\n       .then(data=>{\n          dispatch({type:\"UPDATE\",payload:{\n            following:data.following,\n            followers:data.followers\n          }})\n          localStorage.setItem(\"user\",JSON.stringify(data))\n          setProfile((prevState)=>{\n            return {\n              ...prevState,\n              user:{\n                ...prevState.user,\n                followers:[...prevState.user.followers,data._id]\n              }\n            }\n          })\n          setShowFollow(false);\n       })\n     }\n\n       const unfollowUser = ()=>{\n       fetch('/unfollow',{\n        method: \"put\",\n        headers:{\n          \"Content-Type\": \"application/json\",\n           \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n        },\n        body:JSON.stringify({\n          unfollowid:userid\n        })\n       }).then(res=>res.json())\n       .then(data=>{\n          dispatch({type:\"UPDATE\",payload:{\n            following:data.following,\n            followers:data.followers\n          }})\n          localStorage.setItem(\"user\",JSON.stringify(data))\n          setProfile((prevState)=>{\n            const newFollower = prevState.user.followers.filter(item=>item!=data._id)\n\n            return {\n              ...prevState,\n              user:{\n                ...prevState.user,\n                followers:newFollower\n              }\n            }\n          })\n          setShowFollow(true)\n       })\n     }\n\n\treturn(\n      <>\n      {userProfile ? \n      <div style={{maxWidth:\"550px\", margin:\"0px auto\"}}>\n        <div style={{\n          display: \"flex\",\n          justifyContent: \"space-around\",\n          margin: \"18px 0px\",\n          borderBottom: \"1px solid grey\"\n        }}>\n          <div>\n           <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}}\n            src={userProfile.user.pic}\n            />\n           </div>\n           <div>\n            <h4>{userProfile.user.name}</h4>\n            <h5>{userProfile.user.email}</h5>\n            <div style={{display:\"flex\", justifyContent: \"space-between\",width: \"108%\"}}>\n             <h6>{userProfile.posts.length} posts</h6>\n             <h6>{userProfile.user.followers.length} followers</h6>\n             <h6>{userProfile.user.following.length} following</h6>\n            </div>\n            {showfollow?\n            <button style={{margin:\"10px\"}} className=\"btn waves-effect #64b5f6 blue darken-1\"\n             onClick={()=>followUser()}>\n              Follow\n             </button>\n             :\n              <button style={{margin:\"10px\"}} className=\"btn waves-effect #64b5f6 blue darken-1\"\n              onClick={()=>unfollowUser()}>\n              Unfollow\n              </button>\n             } \n\n         \n           </div>   \n        </div>\n        <div className=\"gallery\">\n          {\n            userProfile.posts.map(item=>{\n                   return (\n                    <img key={item._id} className=\"item\" src={item.photo} alt={item.title} />\n            )}\n          )\n          }\n          \n        </div>  \n     </div>\n    \n     : <h2>Loading</h2>}\n     \n    </> \n)\n}\n\nexport default Profile;","import React,{useState,useEffect,useContext} from 'react'\nimport {UserContext} from '../../App';\nimport {Link} from 'react-router-dom';\n\nconst Home = ()=> {\n  const [data,setData] = useState([]);\n  const {state,dispatch} = useContext(UserContext);\n  useEffect(()=>{\n     fetch('/getsubpost',{\n      headers:{\n        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n      }\n     }).then(res=>res.json())\n     .then(result=>{\n      setData(result.posts)\n     })\n   },[])\n\n  const likePost = (id)=> {\n    fetch('/like',{\n      method: 'put',\n      headers:{\n        \"Content-Type\": \"application/json\",\n        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n      },\n      body:JSON.stringify({\n        postId:id\n      })\n    }).then(res=>res.json())\n    .then(result=>\n    {\n      const newData = data.map(item=>{\n        if(item._id==result._id){\n          return result\n        }\n        else{\n          return item\n        }\n      })\n      setData(newData)\n    }).catch(err=>{\n      console.log(err)\n    })\n  }\n\n    const unlikePost = (id)=> {\n    fetch('/unlike',{\n      method: 'put',\n      headers:{\n        \"Content-Type\": \"application/json\",\n        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n      },\n      body:JSON.stringify({\n        postId:id\n      })\n    }).then(res=>res.json())\n    .then(result=>\n    {\n      const newData = data.map(item=>{\n        if(item._id==result._id){\n          return result\n        }\n        else{\n          return item\n        }\n      })\n      setData(newData)\n    }).catch(err=>{\n      console.log(err)\n    })\n  }\n  const makeComment = (text,postId) => {\n    fetch('/comment',{\n      method:\"put\",\n      headers:{\n        \"Content-Type\":\"application/json\",\n        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\n      },\n      body:JSON.stringify({\n        postId,\n        text\n      })\n    }).then(res=>res.json())\n    .then(result=>{\n         const newData = data.map(item=>{\n         if(item._id==result._id){\n           return result\n         }\n         else{\n          return item\n         }\n        }) \n         setData(newData)\n      }).catch(err=>{\n        console.log(err)\n       })\n  } \n\n  const deletePost = (postId) => {\n    fetch(`/deletepost/${postId}`,{\n      method: \"delete\",\n      headers:{\n        Authorization: \"Bearer \"+localStorage.getItem(\"jwt\")\n      }\n    }).then(res=>res.json())\n    .then(result=>{\n      console.log(result)\n      const newData = data.filter(item=>{\n        return item._id !==result._id\n      })\n      setData(newData)\n    })\n  }\n\treturn(\n     <div className=\"home\">\n       {\n        data.map(item=>{\n        return(\n         <div className=\"card home-card\" key={item._id}>\n           <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id !== state._id ? \"/profile/\"+item.postedBy._id:\"/profile\"}>{item.postedBy.name}</Link>\n               { item.postedBy._id == state._id &&\n               <i className=\"material-icons\" \n               style={{\n                float:\"right\"\n               }}\n               onClick={()=>{deletePost(item._id)}}>\n               delete</i>\n              }\n\n           </h5>\n           <div className=\"card-image\">\n            <img src={item.photo} />\n           </div> \n           <div className=\"card-content\">\n            <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i>\n            {item.likes.includes(state._id)\n              ?\n            <i className=\"material-icons\"\n            onClick={()=>unlikePost(item._id)}\n            >thumb_down</i>\n            :\n            <i className=\"material-icons\"\n            onClick={()=>likePost(item._id)}\n            >thumb_up</i>\n            }\n          \n         \n            <h6>{item.likes.length} likes</h6>\n            <h6>{item.title}</h6>\n            <p>{item.body}</p>\n            {\n              item.comments.map(record=>{\n                return(\n                  <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}</h6>\n                )\n              })\n\n            }\n            <form onSubmit={(e)=>{\n              e.preventDefault()\n              makeComment(e.target[0].value,item._id)\n            }}>\n            <input type=\"text\" placeholder=\"add a comment\"/>\n            </form>\n\n          </div>\n        </div>\n        )\n      })\n    }\n        \n        \n    </div>\n)\n}\n\nexport default Home;","export const initialState=null;\nexport const reducer = (state,action)=>{\n\tif(action.type==\"USER\"){\n\t\treturn action.payload;\n\t}\n\tif(action.type==\"CLEAR\"){\n\t\treturn null;\n\t}\n\tif(action.type==\"UPDATE\"){\n\t\treturn {\n\t\t\t...state,\n\t\t\tfollowers: action.payload.followers,\n\t\t\tfollowing: action.payload.following\n\t\t}\n\t}\n\tif(action.type==\"UPDATEPIC\"){\n\t\treturn {\n\t\t\t...state,\n\t\t\tpic:action.payload\n\t\t}\n\t}\n\treturn state;\n};","import React,{useEffect,createContext,useReducer,useContext} from 'react';\nimport NavBar from './components/Navbar';\nimport './App.css';\nimport {BrowserRouter,Route,Switch,useHistory} from 'react-router-dom';\nimport Home from './components/screens/Home';\nimport Signin from './components/screens/SignIn';\nimport Profile from './components/screens/Profile';\nimport Signup from './components/screens/Signup';\nimport CreatePost from './components/screens/CreatePost';\nimport UserProfile from './components/screens/UserProfile';\nimport SubscribesUserPosts from './components/screens/SubscribesUserPosts';\n\nimport {reducer,initialState} from './reducers/userReducer';\n\nexport const UserContext = createContext();\nconst Routing = () => {\n  const history = useHistory();\n  const {state,dispatch} = useContext(UserContext);\n  useEffect(()=>{\n     const user=JSON.parse(localStorage.getItem(\"user\"));\n     if(user) {\n      dispatch({type:\"USER\",payload:user});\n     }\n     else\n     {\n      history.push('/signin');\n     }\n  },[]);\n  return(\n     <Switch>\n     <Route exact path=\"/\">\n       <Home />\n     </Route>\n     <Route path=\"/signin\">\n      <Signin />\n     </Route>\n     <Route path=\"/signup\">\n      <Signup />\n     </Route>\n     <Route exact path=\"/profile\">\n      <Profile />\n     </Route>\n    <Route path=\"/create\">\n      <CreatePost />\n     </Route>\n      <Route path=\"/profile/:userid\"> \n       <UserProfile />\n      </Route>\n      <Route path=\"/myfollowingpost\">\n       <SubscribesUserPosts />\n      </Route>\n     </Switch>\n)\n}\n\nfunction App() {\n  const [state,dispatch] = useReducer(reducer,initialState);\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n    <BrowserRouter>\n     <NavBar />\n     <Routing />\n      \n\n    </BrowserRouter>\n    </UserContext.Provider>\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}